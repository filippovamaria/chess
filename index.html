<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>

    const alphabet = {
        "a": 1,
        "b": 2,
        "c": 3,
        "d": 4,
        "e": 5,
        "f": 6,
        "g": 7,
        "h": 8
    }
    const lettersOfFields = Object.keys(alphabet)

    function isTurnPossible(figure, startPlaceOnBoard, targetPlaceOnBoard) {

        const [startLetterCoord, startNumberCoord] = startPlaceOnBoard.toLowerCase();
        const [targetLetterCoord, targetNumberCoord] = targetPlaceOnBoard.toLowerCase();
        const moduleOfGorizontalField = Math.abs(startNumberCoord - targetNumberCoord)
        const moduleOfVerticalField = Math.abs(alphabet[startLetterCoord] - alphabet[targetLetterCoord])

        validatePlaceCoord([startLetterCoord, startNumberCoord])
        validatePlaceCoord([targetLetterCoord, targetNumberCoord])

        if ([startLetterCoord, startNumberCoord] === [targetLetterCoord, targetNumberCoord]) {
            return false
        }

        const figureNameToCheckMovePossibilityFunctionMap = {
            "pawn": isPossibleMoveForPawn,
            "king": isPossibleMoveForKing,
            "queen": isPossibleMoveForQueen,
            "rook": isPossibleMoveForRook,
            "elephant": isPossibleMoveForElephant,
            "horse": isPossibleMoveForHorse
        }

        return figureNameToCheckMovePossibilityFunctionMap[figure]([startLetterCoord, Number(startNumberCoord)], [targetLetterCoord, Number(targetNumberCoord)], [moduleOfGorizontalField, moduleOfVerticalField])
    }

    function isPossibleMoveForPawn([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        const possibleMove = startNumberCoord + 1

        if (startNumberCoord === 8) { 
            return false
        }
        
        if ((possibleMove === targetNumberCoord) &&
            (startLetterCoord === targetLetterCoord)) {
            return true
        }

        return false
    }

    function isPossibleMoveForKing([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        const possibleDiff = [0, 1];
        return possibleDiff.includes(moduleOfGorizontalField) && possibleDiff.includes(moduleOfVerticalField)
    }

    function isPossibleMoveForQueen([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        return isPossibleMoveForRook([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) ||
               isPossibleMoveForElephant([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField])
    }

    function isPossibleMoveForRook([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        if ((startLetterCoord === targetLetterCoord) ||
            (startNumberCoord === targetNumberCoord)) {
            return true
        }

        return false
    }

    function isPossibleMoveForElephant([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        if (moduleOfGorizontalField === moduleOfVerticalField) {
            return true
        }

        return false
    }

    function isPossibleMoveForHorse([startLetterCoord, startNumberCoord], [targetLetterCoord, targetNumberCoord], [moduleOfGorizontalField, moduleOfVerticalField]) {

        if ((moduleOfVerticalField === 1 && moduleOfGorizontalField === 2) ||
            (moduleOfVerticalField === 2 && moduleOfGorizontalField === 1)) {
            return true
        }

        return false
    }

    function validatePlaceCoord([letterCoord, numberCoord]) {
        const regexLetter = new RegExp('[a-h]');
        const regexNumber = new RegExp('[1-8]');

        if (!regexLetter.test(letterCoord) || !regexNumber.test(numberCoord)) {
            throw new Error("нет такого поля на доске")
            return
        }
    }

    console.log(isTurnPossible("pawn", "a8", "c6"))

</script>

</html>