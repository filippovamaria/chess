<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>

    const alphabet = {
        "a": 1,
        "b": 2,
        "c": 3,
        "d": 4,
        "e": 5,
        "f": 6,
        "g": 7,
        "h": 8
    }
    function isTurnPossible(figure, startPlaceOnBoard, targetPlaceOnBoard) {
        const figures = ["king", "queen", "rook", "elephant", "horse", "pawn"]

        if (figure.toLowerCase() === "pawn") {
            return isPossibleMoveForPawn(startPlaceOnBoard.toLowerCase(), targetPlaceOnBoard.toLowerCase())
        }

        if (figure.toLowerCase() === "king") {
            return isPossibleMoveForKing(startPlaceOnBoard.toLowerCase(), targetPlaceOnBoard.toLowerCase())
        }


        console.log("false")
    }

    function isPossibleMoveForPawn(startPlaceOnBoard, targetPlaceOnBoard) {

        const startPlaceOnBoardSplit = startPlaceOnBoard.split("")
        const targetPlaceOnBoardSplit = targetPlaceOnBoard.split("")

        if (Number(startPlaceOnBoardSplit[1]) > 8) {
            return false
        }
        if ((Number(startPlaceOnBoardSplit[1]) + 1 === Number(targetPlaceOnBoardSplit[1])) &&
            (startPlaceOnBoardSplit[0] === targetPlaceOnBoardSplit[0])) {
            return true
        }

        return false
    }

    function isPossibleMoveForKing(startPlaceOnBoard, targetPlaceOnBoard) {

        const startPlaceOnBoardSplit = startPlaceOnBoard.split("")
        const targetPlaceOnBoardSplit = targetPlaceOnBoard.split("")
        const moduleOfGorizontalField = Math.abs((Number(startPlaceOnBoardSplit[1]) - Number(targetPlaceOnBoardSplit[1])))
        const moduleOfVerticalField = Math.abs(alphabet[startPlaceOnBoardSplit[0]] - alphabet[targetPlaceOnBoardSplit[0]])

        if ((moduleOfGorizontalField === 1) && (moduleOfVerticalField === 1)
            ||
            ((moduleOfGorizontalField === 1) && (moduleOfVerticalField === 0))
            ||
            ((moduleOfGorizontalField === 0) && (moduleOfVerticalField === 1))) {
            return true
        }

        return false
    }

    // console.log(isTurnPossible("king", "C8", "c8")) // false БАГ
    // console.log(isTurnPossible("king", "d5", "d6")) // true
    // console.log(isTurnPossible("king", "d5", "d7")) // false
    // console.log(isTurnPossible("king", "d5", "d4")) // true
    // console.log(isTurnPossible("king", "d5", "d3")) // false
    // console.log(isTurnPossible("king", "d5", "c6")) // true
    // console.log(isTurnPossible("king", "d5", "e5")) // true
    // console.log(isTurnPossible("king", "d5", "c5")) // true
    // console.log(isTurnPossible("king", "d5", "e6")) // true
    // console.log(isTurnPossible("king", "d5", "c4")) // true
    // console.log(isTurnPossible("king", "d5", "e4")) // true
</script>

</html>